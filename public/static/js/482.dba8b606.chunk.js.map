{"version":3,"file":"static/js/482.dba8b606.chunk.js","mappings":"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","sources":["Pages/Login.js","../node_modules/@ant-design/icons-svg/es/asn/UserOutlined.js","../node_modules/@ant-design/icons/es/icons/UserOutlined.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from \"react\"\r\nimport {Form, Button, Input, Typography, Spin } from 'antd'\r\nimport { LockOutlined, UserOutlined } from '@ant-design/icons'\r\nimport \"../Assets/Style/Login.css\"\r\nimport logo from \"../Assets/Media/upesfull.png\"\r\nimport bg from \"../Assets/Media/upes-web-banner.mp4\"\r\nimport { getAuthToken, signIn } from \"../Helper/Authentication/index\"\r\nimport { useNavigate, useLocation } from \"react-router-dom\"\r\n\r\nconst Login = () => {\r\n  const [sapId, setSapId] = useState(\"\")\r\n  const [password, setPassword] = useState(\"\")\r\n  const [loading, setLoading] = useState(false)\r\n  const [error, setError] = useState(false)\r\n\r\n  const useQuery = () => {\r\n    const { search } = useLocation()\r\n    return React.useMemo(() => new URLSearchParams(search), [search])\r\n  }\r\n    const query = useQuery()\r\n  let logout = query.get('logout')\r\n\r\n  useEffect(() => {\r\n    document.title = \"Login | SoCIS\"\r\n    if(logout === 'true')\r\n      alert('Logged Out!')\r\n    const token = getAuthToken()\r\n    if(token) {\r\n      if(JSON.parse(localStorage.getItem('user')).changePassword)\r\n        return navigate('/new-password')\r\n      if(token.user.role === \"faculty\") return navigate('/faculty/dashboard')\r\n      if(token.user.role === \"management\") return navigate('/management/dashboard')\r\n    }\r\n    \r\n  }, [logout])\r\n\r\n  const videoRef = useRef(null)\r\n  const navigate = useNavigate()\r\n  const handleSubmit = (event) => {\r\n    setLoading(true)\r\n    event.preventDefault()\r\n    signIn({ sapId: sapId, password: password })\r\n      .then((data) => {\r\n        localStorage.setItem('user', JSON.stringify({ changePassword: (data.changePassword ? true : false )}))\r\n        if (data.changePassword) return navigate(\"/new-password\")\r\n        if (data.user.role === \"faculty\") return navigate(\"/faculty/dashboard\")\r\n        if (data.user.role === \"management\") return navigate(\"/management/dashboard\")\r\n        setLoading(false)\r\n        setError(error)\r\n      })\r\n      .catch((error) => {\r\n        setLoading(false)\r\n        setError(error)\r\n      })\r\n  }\r\n\r\n  return (\r\n    <div className=\"login_main text-black\">\r\n      <div className=\"video-container\">\r\n        <video\r\n          ref={videoRef}\r\n          loop\r\n          muted\r\n          autoPlay={true}\r\n          data-preload=\"true\"\r\n          playsInline\r\n          className=\"responsive-video bg-cover\"\r\n        >\r\n          <source src={bg} type=\"video/mp4\" />\r\n          Your browser does not support the video tag.\r\n        </video>\r\n      </div>\r\n\r\n      <img className=\"login__logo\" src={logo} alt=\"Logo\" />\r\n\r\n      <div\r\n        className=\"login__container text-black z-50 absolute\"\r\n        style={{ right: 80 }}\r\n      >\r\n        <h1 className=\"text-3xl text-\">Welcome To UPES Management Portal</h1>\r\n        <div className=\"form-container\">\r\n            <Form\r\n                name=\"normal_login\"\r\n                className=\"login-form\"\r\n                initialValues={{ remember: true }}\r\n                onFinish={() => null}\r\n                onSubmitCapture={handleSubmit}\r\n            >\r\n                <Form.Item\r\n                    name=\"username\"\r\n                    rules={[{ required: true, message: 'Please input your SAP Id!' }]}\r\n                >\r\n                    <Input \r\n                        prefix={<UserOutlined className=\"site-form-item-icon\" />} \r\n                        onChange={(e) => setSapId(e.target.value)} \r\n                        placeholder=\"SAPID\" \r\n                    />\r\n                </Form.Item>\r\n                <Form.Item\r\n                    name=\"password\"\r\n                    rules={[{ required: true, message: 'Please input your Password!' }]}\r\n                >\r\n                    <Input\r\n                        prefix={<LockOutlined className=\"site-form-item-icon\" />}\r\n                        type=\"password\"\r\n                        onChange={(e) => setPassword(e.target.value)}\r\n                        placeholder=\"Password\"\r\n                    />\r\n                </Form.Item>\r\n                <Form.Item>\r\n                    <Button  type=\"primary\" htmlType=\"submit\" className=\"login-form-button\">\r\n                        Log in\r\n                    </Button>\r\n                    { loading ? <Spin size=\"large\" /> : \"\"}\r\n                    {error ? <Typography style={{ background: '#fff', color: 'red', margin: '10px'}}>Error Signing In!</Typography>: \"\"}\r\n                </Form.Item>\r\n            </Form>\r\n        </div>\r\n        <p>\r\n        \r\n        </p>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login\r\n","// This icon file is generated automatically.\nvar UserOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M858.5 763.6a374 374 0 00-80.6-119.5 375.63 375.63 0 00-119.5-80.6c-.4-.2-.8-.3-1.2-.5C719.5 518 760 444.7 760 362c0-137-111-248-248-248S264 225 264 362c0 82.7 40.5 156 102.8 201.1-.4.2-.8.3-1.2.5-44.8 18.9-85 46-119.5 80.6a375.63 375.63 0 00-80.6 119.5A371.7 371.7 0 00136 901.8a8 8 0 008 8.2h60c4.4 0 7.9-3.5 8-7.8 2-77.2 33-149.5 87.8-204.3 56.7-56.7 132-87.9 212.2-87.9s155.5 31.2 212.2 87.9C779 752.7 810 825 812 902.2c.1 4.4 3.6 7.8 8 7.8h60a8 8 0 008-8.2c-1-47.8-10.9-94.3-29.5-138.2zM512 534c-45.9 0-89.1-17.9-121.6-50.4S340 407.9 340 362c0-45.9 17.9-89.1 50.4-121.6S466.1 190 512 190s89.1 17.9 121.6 50.4S684 316.1 684 362c0 45.9-17.9 89.1-50.4 121.6S557.9 534 512 534z\" } }] }, \"name\": \"user\", \"theme\": \"outlined\" };\nexport default UserOutlined;\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\n\nimport * as React from 'react';\nimport UserOutlinedSvg from \"@ant-design/icons-svg/es/asn/UserOutlined\";\nimport AntdIcon from \"../components/AntdIcon\";\nvar UserOutlined = function UserOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _extends({}, props, {\n    ref: ref,\n    icon: UserOutlinedSvg\n  }));\n};\nif (process.env.NODE_ENV !== 'production') {\n  UserOutlined.displayName = 'UserOutlined';\n}\nexport default /*#__PURE__*/React.forwardRef(UserOutlined);"],"names":["_useState","useState","_useState2","_slicedToArray","sapId","setSapId","_useState3","_useState4","password","setPassword","_useState5","_useState6","loading","setLoading","_useState7","_useState8","error","setError","logout","search","useLocation","React","URLSearchParams","useQuery","get","useEffect","document","title","alert","token","getAuthToken","JSON","parse","localStorage","getItem","changePassword","navigate","user","role","videoRef","useRef","useNavigate","_jsxs","className","children","_jsx","ref","loop","muted","autoPlay","playsInline","src","bg","type","logo","alt","style","right","Form","name","initialValues","remember","onFinish","onSubmitCapture","event","preventDefault","signIn","then","data","setItem","stringify","catch","Item","rules","required","message","Input","prefix","UserOutlined","onChange","e","target","value","placeholder","LockOutlined","Button","htmlType","Spin","size","Typography","background","color","margin","props","AntdIcon","_extends","icon","UserOutlinedSvg"],"sourceRoot":""}
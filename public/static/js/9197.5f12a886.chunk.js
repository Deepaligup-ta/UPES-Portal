"use strict";(self.webpackChunkantd_panel=self.webpackChunkantd_panel||[]).push([[9197],{9197:function(e,n,t){t.r(n);var s=t(9439),c=t(2791),o=t(5529),u=t(4264),a=t(5476),r=t(1773),i=t(4099),d=t(7427),f=t(2002),l=t(7689),m=t(6122),g=t(184);n.default=function(){var e=(0,c.useState)([]),n=(0,s.Z)(e,2),t=n[0],p=n[1],h=(0,c.useState)(!0),Z=(0,s.Z)(h,2),S=Z[0],j=Z[1],x=(0,c.useState)({}),y=(0,s.Z)(x,2),A=y[0],v=y[1],w=a.Z.useNotification(),k=(0,s.Z)(w,2),C=k[0],b=k[1],N=function(e){var n=e.type,t=e.message;C[n]({message:t})},q=function(){var e=(0,l.TH)().search;return c.useMemo((function(){return new URLSearchParams(e)}),[e])}();(0,c.useEffect)((function(){document.title="Announcements | SoCIS";var e=q.get("success");"new"===e?N({type:"success",message:"Added New Announcement!"}):"edit"===e?N({type:"success",message:"Updated Announcement!"}):"delete"===e&&N({type:"success",message:"Deleted Announcement!"}),(0,d.qm)(1).then((function(e){return e.error?N({type:"error",message:"Error Occurred!"}):0===e.docs.length?N({type:"info",message:"No Announcements Found!"}):(v(e),p(e.docs),void j(!1))})).catch((function(e){console.log(e)}))}),[p,v,q]);return(0,g.jsxs)(o.Z,{children:[b,(0,g.jsx)(u.Z,{title:"Announcements"}),(0,g.jsx)(r.Z,{}),S?(0,g.jsx)(m.Z,{}):(0,g.jsx)(f.Z,{data:t}),(0,g.jsx)("br",{}),(0,g.jsx)(i.Z,{current:A.page,pageSize:1,onChange:function(e){return function(e){j(!0),(0,d.qm)(e).then((function(e){v(e),p(e.docs),j(!1)})).catch((function(e){console.log(e)}))}(e)},total:A.totalPages,style:{alignSelf:"center"}})]})}}}]);
//# sourceMappingURL=9197.5f12a886.chunk.js.map